name: testapp
version: '1.0'
summary: Test app using snap-helpers
description: Test app using snap-helpers
grade: stable
confinement: strict
base: core22

apps:
  python3:
    command: bin/python3
    plugs:
      - home
      - network
      - network-bind

  pytest:
    command: bin/pytest
    plugs:
      - home
      - network
      - network-bind

parts:
  testapp:
    plugin: python
    source: .
    python-packages:
      - ./snap-helpers
      - ./testapp
      - pytest
    override-build: |
      craftctl default
      snap-helpers write-hooks
